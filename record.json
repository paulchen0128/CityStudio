[
    {
        "api_endpoint": "https://data.seattle.gov/resource/3th6-ticf.json",
        "metric_name": "total GHG emissions in tonnes",
        "city": "Seattle",
        "metric_parse_code": "sum(float(d['totalghgemissions']) for d in data)",
        "date_parse_code": "",
        "cov_dimension_id": "",
        "cov_metric_name": ""
    },
    {
        "api_endpoint": "https://data.cityofnewyork.us/resource/yg3y-7juh.json?$limit=9999999",
        "metric_name": "% of unclean business",
        "city": "New York City",
        "metric_parse_code": "(1-(len([entry for entry in data if entry['overall_condition'] == 'A'])/len(data)))",
        "date_parse_code": "",
        "cov_dimension_id": "",
        "cov_metric_name": ""
    },
    {
        "api_endpoint": "https://data.ny.gov/resource/erjw-j2zx.json",
        "metric_name": "Annual Energy Efficiency Reports (EER) completed",
        "city": "New York City",
        "metric_parse_code": "len([i for i in data if i['year_completed']=='2020'])",
        "date_parse_code": "",
        "cov_dimension_id": "",
        "cov_metric_name": ""
    },
    {
        "api_endpoint": "https://data.calgary.ca/resource/m7gu-3xk5.json?$limit=9999999",
        "metric_name": "community-wide greenhouse gas emissions over time",
        "city": "Calgary",
        "metric_parse_code": "sum([float(d['tonnes_co2e']) for d in data if 'tonnes_co2e' in d.keys()])",
        "date_parse_code": "",
        "cov_dimension_id": "",
        "cov_metric_name": ""
    },
    {
        "api_endpoint": "https://data.cityofnewyork.us/resource/4yue-vjfc.json",
        "metric_name": "Number of bridges with rating above 5",
        "city": "New York City",
        "metric_parse_code": "sum((float(d['current_rating']) > 5) for d in data)",
        "date_parse_code": "",
        "cov_dimension_id": "1181",
        "cov_metric_name": "% of Major Road Network (MRN) rated good or above"
    },
    {
        "api_endpoint": "https://data.cityofnewyork.us/resource/fc53-9hrv.json?$limit=9999999",
        "metric_name": "Number of NYC EV Fleet vehciles",
        "city": "New York City",
        "metric_parse_code": "len(data)",
        "date_parse_code": "",
        "cov_dimension_id": "",
        "cov_metric_name": ""
    },
    {
        "api_endpoint": "https://data.seattle.gov/resource/76t5-zqzr.json?$limit=9999999",
        "metric_name": "Number of building permits issued",
        "city": "Seattle",
        "metric_parse_code": "len([entry for entry in data if entry['statuscurrent'] == 'Issued'])",
        "date_parse_code": "",
        "cov_dimension_id": "",
        "cov_metric_name": ""
    },
    {
        "api_endpoint": "https://data.cityofnewyork.us/resource/uiay-nctu.json?$limit=9999999",
        "metric_name": "Total kilometers of cycling routes",
        "city": "New York City",
        "metric_parse_code": "round(sum(float(entry['length_in_']) for entry in data)*1.60934, 2)",
        "date_parse_code": "",
        "cov_dimension_id": "1186",
        "cov_metric_name": "Kilometer of total bike network"
    },
    {
        "api_endpoint": "https://data.cityofnewyork.us/resource/qe3p-6ugh.json?$limit=9999999",
        "metric_name": "Electric vehicles in the citywide fleet",
        "city": "New York City",
        "metric_parse_code": "' '.join(entry[\"fy20\"] for entry in data if \"Electric vehicles in the citywide\" in entry[\"performance_indicator\"])",
        "date_parse_code": "",
        "cov_dimension_id": "",
        "cov_metric_name": ""
    },
    {
        "api_endpoint": "https://data.cityofnewyork.us/resource/qe3p-6ugh.json?$limit=9999999",
        "metric_name": "Citi Bike annual membership",
        "city": "New York City",
        "metric_parse_code": "' '.join(entry[\"fy20\"] for entry in data if \"Citi Bike\" in entry[\"performance_indicator\"])+' USD'",
        "date_parse_code": "",
        "cov_dimension_id": "",
        "cov_metric_name": ""
    },
    {
        "api_endpoint": "https://data.cityofnewyork.us/resource/qe3p-6ugh.json?$limit=9999999",
        "metric_name": "Total design projects completed early/on time (%)",
        "city": "New York City",
        "metric_parse_code": "' '.join(entry[\"fy20\"] for entry in data if \"Total design projects\" in entry[\"performance_indicator\"])",
        "date_parse_code": "",
        "cov_dimension_id": "",
        "cov_metric_name": ""
    },
    {
        "api_endpoint": "https://data.cityofnewyork.us/resource/qe3p-6ugh.json?$limit=9999999",
        "metric_name": "Total construction projects completed early/on time (%)",
        "city": "New York City",
        "metric_parse_code": "' '.join(entry[\"fy20\"] for entry in data if \"Total construction projects\" in entry[\"performance_indicator\"])",
        "date_parse_code": "",
        "cov_dimension_id": "",
        "cov_metric_name": ""
    },
    {
        "api_endpoint": "https://gisdata.seattle.gov/server/rest/services/SDOT/SDOT_Bikes/MapServer/1/query?where=1%3D1&outFields=*&outSR=4326&f=json",
        "metric_name": "Bicycle lane miles installed",
        "city": "Seattle",
        "metric_parse_code": "sum(i['attributes']['LENGTH_MILES'] for i in data['features'])",
        "date_parse_code": "",
        "cov_dimension_id": "",
        "cov_metric_name": ""
    },
    {
        "api_endpoint": "https://data.cityofnewyork.us/resource/h9gi-nx95.json",
        "metric_name": "The total number of pedestrian, motorist, bicyclist, and passenger deaths resulting from traffic crashes.",
        "city":"New York City",
        "metric_parse_code": "sum(int(i['number_of_persons_killed']) + int(i['number_of_pedestrians_killed']) + int(i['number_of_cyclist_killed']) + int(i['number_of_motorist_killed']) for i in data)",
        "date_parse_code": "",
        "cov_dimension_id": "",
        "cov_metric_name": ""
    },
    {
        "api_endpoint": "https://data.calgary.ca/resource/nhg7-bmw5.json",
        "metric_name": "% of Paved Lane Km where the Condition is Rated as Good to Very Good",
        "city": "Calgary",
        "metric_parse_code": "sum(int(i['asset_condition_rated']) for i in data)/ len(data)",
        "date_parse_code": "",
        "cov_dimension_id": "",
        "cov_metric_name": ""
    },
    {
        "api_endpoint": "https://data.cityofnewyork.us/resource/gjkm-nzmg.json",
        "metric_name": "# Streets maintained with a pavement rating of - Good (%)",
        "city": "New York City",
        "metric_parse_code": "len([i['rating_word'] for i in data if i['rating_word'] == 'GOOD'])/ len(data)",
        "date_parse_code": "",
        "cov_dimension_id": "",
        "cov_metric_name": ""
    },
    {
        "api_endpoint": "https://data.calgary.ca/resource/2msm-bgzt.json",
        "metric_name": "Pedestrian fatalities (# of injuries)",
        "city": "Calgary",
        "metric_parse_code": "sum([int(entry['count']) for entry in data if 'count' in entry.keys()])",
        "date_parse_code": "",
        "cov_dimension_id": "",
        "cov_metric_name": ""
    },
    {
        "api_endpoint": "https://data.cityofnewyork.us/resource/fc53-9hrv.json?$limit=9999999",
        "metric_name": "Number of NYC EV Fleet vehciles",
        "city": "New York City",
        "metric_parse_code": "len(data)",
        "date_parse_code": "",
        "cov_dimension_id": "",
        "cov_metric_name": ""
    },
    {
        "api_endpoint": "https://data.calgary.ca/resource/m7gu-3xk5.json?$limit=9999999",
        "metric_name": "Environmental & Safety Management",
        "city": "Calgary",
        "metric_parse_code": "sum([float(d['tonnes_co2e']) for d in data if 'tonnes_co2e' in d.keys()])",
        "date_parse_code": "",
        "cov_dimesion_id": "1548",
        "cov_metric_name": "Greenhouse gas emissions from City â€“ used Buildings (tonnes CO2e)"
    
    },
    {
        "api_endpoint": "https://data.seattle.gov/resource/3th6-ticf.json?$limit=9999999",
        "metric_name": "% reduction in building energy emissions",
        "city": "Seattle",
        "metric_parse_code": "sum(float(i['totalghgemissions'])for i in data if i['epapropertytype'] == 'K-12 School')",
        "date_parse_code": "",
        "cov_dimension_id": "3054",
        "cov_metric_name": "% reduction of total tonnes of greenhouse gas emmissions from City-owned buildings (since 2007)"
    },
    {
        "api_endpoint": "https://ckan0.cf.opendata.inter.prod-toronto.ca/download_resource/570f61cd-0e5b-4bb1-a1c2-0a760e70c687?format=csv",
        "metric_name": "Total Litres of Fuel Consumed per 100 Km (Light Duty Vehicles)",
        "city": "Toronto",
        "metric_parse_code": "float(data['Result'][168])",
        "date_parse_code": "",
        "cov_dimension_id": "",
        "cov_metric_name": ""
    },
    {
        "api_endpoint": "https://ckan0.cf.opendata.inter.prod-toronto.ca/download_resource/570f61cd-0e5b-4bb1-a1c2-0a760e70c687?format=csv",
        "metric_name": "Total Litres of Fuel Consumed per 100 Km (Medium Duty Vehicles)",
        "city": "Toronto",
        "metric_parse_code": "float(data['Result'][169])",
        "date_parse_code": "",
        "cov_dimension_id": "",
        "cov_metric_name": ""
    },
    {
        "api_endpoint": "https://ckan0.cf.opendata.inter.prod-toronto.ca/download_resource/570f61cd-0e5b-4bb1-a1c2-0a760e70c687?format=csv",
        "metric_name": "Total Litres of Fuel Consumed per 100 Km (Heavy Duty Vehicles)",
        "city": "Toronto",
        "metric_parse_code": "float(data['Result'][170])",
        "date_parse_code": "",
        "cov_dimension_id": "",
        "cov_metric_name": ""
    }
]



